from base.login_manager import login_manager

# C端登录态配置
C_COOKIES = {
    "with_app_id": "appxz3zrnfn4438",
    "app_id": "appxz3zrnfn4438",
    "shop_version_type": "4",
    "sajssdk_2015_new_user_haha_xiaoetong_com": "1",
    "sensorsdata2015jssdkcross": "%7B%22%24device_id%22%3A%2219c987100002f0-0235b4a3533b28-3e604809-1327104-19c9871000151f%22%7D",
    "newuserdays": "90",
    "olduserdays": "180",
    "regtime": "1741749737",
    "sa_jssdk_2015_haha_xiaoetong_com": "%7B%22distinct_id%22%3A%22u_67d0fde978df3_nebRzOXOuQ%22%2C%22first_id%22%3A%2219c987100002f0-0235b4a3533b28-3e604809-1327104-19c9871000151f%22%2C%22props%22%3A%7B%7D%7D",
    "h5_transport_time": "2026-02-26+14%3A06%3A03",
    "anony_token": "58254539865975f12d273422d82bf103",
    "TDC_itoken": "1536194698%3A1772086045",
    "ko_token": "3d480df08f03dbbb96c0a09d9e6825fc",
    "xenbyfpfUnhLsdkZbX": "0",
    "colla_login": "1",
    "logintime": "1772201920"
}

# B端登录态配置
B_COOKIES = {
    "XIAOEID": "2cdf1536b9abc96877c240ccd99bc606",
    "cookie_channel": "13-39805795040",
    "xiaoe_admin_is_login": "1",
    "cookie_is_signed": "1",
    "sensorsdata2015jssdkcross": "%7B%22distinct_id%22%3A%22b_u_5b2225aa46488_oGKN7IvA%22%2C%22first_id%22%3A%221825a09c7fe7-023d35501b3cab-3e604809-1327104-1825a09c7ff541%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E4%BB%98%E8%B4%B9%E5%B9%BF%E5%91%8A%E6%B5%81%E9%87%8F%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC%22%2C%22%24latest_referrer%22%3A%22https%3A%2F%2Fwww.so.com%2Flink%3Fm%3Dba8TyJdJz6rFsAX8VqTN1telf0q%252FzhdNVSUNs4Ql0E%252FmNtyHWxj2glZbvmuCPMBGF6njB0518iXGv9lHk8F3VG8j1Q49wdxmHGKdSPtpSX6F0SScpwfZSTQP39tfZCTPC9FY%252BagZfAO%252FmNkCQ5czUSO7bTV%252BNW2qvZbL%22%2C%22%24latest_utm_source%22%3A%22360%22%2C%22%24latest_utm_medium%22%3A%22CPT%22%2C%22%24latest_utm_term%22%3A%2239805795040%22%2C%22page_submodule%22%3A%22%E7%99%BB%E5%BD%95%22%2C%22page_name%22%3A%22%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95%E9%A1%B5%22%2C%22page_module%22%3A%22%E7%AE%A1%E7%90%86%E5%8F%B0%22%2C%22page_button%22%3A%22%22%2C%22cmm1%22%3A%221480%22%2C%22cmm2%22%3A%22brucezhang(%E5%BC%A0%E7%87%95%E6%96%8C)%22%7D%2C%22%24device_id%22%3A%221825a09c7fe7-023d35501b3cab-3e604809-1327104-1825a09c7ff541%22%7D",
    "is_new_management": "1",
    "management_version": "2",
    "Qs_lvt_416447": "1736311593%2C1736866700%2C1737382957%2C1739976941%2C1740664989",
    "Qs_pv_416447": "575981553944061900%2C3983867267261459500%2C62226781088111144%2C880305080070377100%2C2258362872701738500",
    "TDC_itoken": "1253167331%3A1752989052",
    "Hm_lvt_32573db0e6d7780af79f38632658ed95": "1762179104",
    "view_url": "http%3A%2F%2Fsem.xiaoe-tech.com%2F%3Fchannel%3D439-898-899-4622%26jzl_ch%3D13%26jzl_cpg%3D43561333%26jzl_ctv%3D%257Bcreativeid%257D%26jzl_dv%3D1%26jzl_kwd%3D39805793248%26utm_medium%3DCPT%26utm_source%3D360%26utm_term%3D39805793248",
    "mobile_manage": "0",
    "validationToken": "",
    "data_scan_report_id": "1",
    "laravel_session": "eyJpdiI6IjhuNFwvRTNzRktiNVFJV210RXpwTmtBPT0iLCJ2YWx1ZSI6IjdOTXFVWmRGSGZEOExmTVdFRTJYRDRPTzJ3aU0xeG4xR3hQbFpIbTA0OVY1ZXkweGxuaCtDWXRwQTZRXC9IblpTRHE3aU8rS3lpcVwvVkJJa2I5NjhGSlE9PSIsIm1hYyI6IjEyZThiZGYwOWVmZDA1MTIwNzQ1YzQwNGQ5MTBkYmFiNzczM2E4YzZkOGI5YTU3NWEwY2YzOTE5MzBjYzRjYWQifQ%3D%3D",
    "unionid": "{{universal_union_id_1}}",
    "channel": "homepage",
    "cookie_session_id": "CP42cZkEtkFY0vwxaJywrlyCBpZmVPXc",
    "cookie_referer": "",
    "b_user_token": "",
    "appsc": "appxz3zrnfn4438",
    "with_app_id": "appxz3zrnfn4438",
    "shop_type": "4y2f6",
    "b_logintime": "1772088844"
}

# 从cookie中提取token
C_TOKEN = C_COOKIES.get("ko_token", "")
B_TOKEN = B_COOKIES.get("b_user_token", "")

# 初始化登录态
def init_login_state():
    """初始化登录态"""
    login_manager.set_c_token(C_TOKEN)
    login_manager.set_c_cookies(C_COOKIES)
    login_manager.set_b_token(B_TOKEN)
    login_manager.set_b_cookies(B_COOKIES)
    print("C端登录态初始化完成")
    print("B端登录态初始化完成")
